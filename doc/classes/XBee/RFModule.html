<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang='en'>
  <head>
    <title>XBee::RFModule</title>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type'>
    <link href='../../css/style.css' media='screen' rel='stylesheet' type='text/css'>
    <script type='text/javascript'>
      //<![CDATA[
        function popupCode(url) {
          window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
        }
        
        function toggleCode(id) {
          var code = document.getElementById(id)
        
          code.style.display = code.style.display != 'block' ? 'block' : 'none'
          return true
        }
        
        // Make codeblocks hidden by default
        document.writeln('<' + 'style type="text/css">.method .source pre { display: none }<\/style>')
      //]]>
    </script>
  </head>
  <body class='page'>
    <div class='class' id='wrapper'>
      <div class='header'>
        <h1 class='name'>
          <span class='type'>class</span>
          XBee::RFModule
        </h1>
        <ol class='paths'>
          <li>
            <a target="docwin" href="../../files/lib/ruby_xbee_rb.html">lib/ruby_xbee.rb</a>
          </li>
        </ol>
        <div class='parent'>
          Parent:
          <strong><a target="docwin" href="../XBee.html">XBee</a></strong>
        </div>
      </div>
      <div id='content'>
        <div id='text'>
          <div id='description'>
            
            <p>This is it, the base class where it all starts. Command mode or API mode,
            version 1 or version 2, all XBees descend from this class.</p>
          </div>
          <div id='method-list'>
            <h2>Methods</h2>
            <h3>Public Class</h3>
            <ol>
              <li><a target="docwin" href="#method-c-new">new</a></li>
            </ol>
            <h3>Public Instance</h3>
            <ol>
              <li><a target="docwin" href="#attribute-i-command_character">command_character</a></li>
              <li><a target="docwin" href="#attribute-i-command_mode_timeout">command_mode_timeout</a></li>
              <li><a target="docwin" href="#attribute-i-firmware_rev">firmware_rev</a></li>
              <li><a target="docwin" href="#attribute-i-guard_time">guard_time</a></li>
              <li><a target="docwin" href="#attribute-i-hardware_rev">hardware_rev</a></li>
              <li><a target="docwin" href="#method-i-in_command_mode">in_command_mode</a></li>
              <li><a target="docwin" href="#attribute-i-node_discover_timeout">node_discover_timeout</a></li>
              <li><a target="docwin" href="#attribute-i-node_identifier">node_identifier</a></li>
              <li><a target="docwin" href="#method-i-read_timeout">read_timeout</a></li>
              <li><a target="docwin" href="#attribute-i-serial_number">serial_number</a></li>
              <li><a target="docwin" href="#method-i-version">version</a></li>
              <li><a target="docwin" href="#attribute-i-xbee_serialport">xbee_serialport</a></li>
              <li><a target="docwin" href="#attribute-i-xbee_uart_config">xbee_uart_config</a></li>
            </ol>
          </div>
          <div id='context'>
            <div id='includes'>
              <h2>Included modules</h2>
              <ol>
                <li><a target="docwin" href="../XBee.html">XBee</a></li>
                <li><a target="docwin" href="Config.html">Config</a></li>
              </ol>
            </div>
          </div>
          <div id='section'>
            <div id='attribute-list'>
              <h2 class='section-bar'>Attributes</h2>
              <div class='name-list'>
                <table>
                  <tr class='top-aligned-row context-row'>
                    <td class='context-item-name'>
                      <a name='attribute-i-command_character'>command_character</a>
                    </td>
                    <td class='context-item-value'>[RW]</td>
                    <td class='context-item-desc'></td>
                  </tr>
                  <tr class='top-aligned-row context-row'>
                    <td class='context-item-name'>
                      <a name='attribute-i-command_mode_timeout'>command_mode_timeout</a>
                    </td>
                    <td class='context-item-value'>[RW]</td>
                    <td class='context-item-desc'></td>
                  </tr>
                  <tr class='top-aligned-row context-row'>
                    <td class='context-item-name'>
                      <a name='attribute-i-firmware_rev'>firmware_rev</a>
                    </td>
                    <td class='context-item-value'>[R]</td>
                    <td class='context-item-desc'></td>
                  </tr>
                  <tr class='top-aligned-row context-row'>
                    <td class='context-item-name'>
                      <a name='attribute-i-guard_time'>guard_time</a>
                    </td>
                    <td class='context-item-value'>[RW]</td>
                    <td class='context-item-desc'></td>
                  </tr>
                  <tr class='top-aligned-row context-row'>
                    <td class='context-item-name'>
                      <a name='attribute-i-hardware_rev'>hardware_rev</a>
                    </td>
                    <td class='context-item-value'>[R]</td>
                    <td class='context-item-desc'></td>
                  </tr>
                  <tr class='top-aligned-row context-row'>
                    <td class='context-item-name'>
                      <a name='attribute-i-node_discover_timeout'>node_discover_timeout</a>
                    </td>
                    <td class='context-item-value'>[RW]</td>
                    <td class='context-item-desc'></td>
                  </tr>
                  <tr class='top-aligned-row context-row'>
                    <td class='context-item-name'>
                      <a name='attribute-i-node_identifier'>node_identifier</a>
                    </td>
                    <td class='context-item-value'>[RW]</td>
                    <td class='context-item-desc'></td>
                  </tr>
                  <tr class='top-aligned-row context-row'>
                    <td class='context-item-name'>
                      <a name='attribute-i-serial_number'>serial_number</a>
                    </td>
                    <td class='context-item-value'>[R]</td>
                    <td class='context-item-desc'></td>
                  </tr>
                  <tr class='top-aligned-row context-row'>
                    <td class='context-item-name'>
                      <a name='attribute-i-xbee_serialport'>xbee_serialport</a>
                    </td>
                    <td class='context-item-value'>[RW]</td>
                    <td class='context-item-desc'></td>
                  </tr>
                  <tr class='top-aligned-row context-row'>
                    <td class='context-item-name'>
                      <a name='attribute-i-xbee_uart_config'>xbee_uart_config</a>
                    </td>
                    <td class='context-item-value'>[RW]</td>
                    <td class='context-item-desc'></td>
                  </tr>
                </table>
              </div>
            </div>
            <div id='methods'>
              <h2>Public Class methods</h2>
              <div class='method public-class' id='method-method-c-new'>
                <a name='method-c-new'></a>
                <div class='synopsis'>
                  <span class='name'>new</span>
                  <span class='arguments'>(xbee_usbdev_str = "/dev/tty.usbserial-A7004nmf", uart_config = XBeeUARTConfig.new)</span>
                </div>
                <div class='description'>
                  
                  <p>This is the way we instantiate <a href="../XBee.html">XBee</a> modules now,
                  via this factory method. It will ultimately autodetect what flavor of <a
                  href="../XBee.html">XBee</a> module weâ€™re using and return the most
                  appropriate subclass to control that module.</p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('method-c-new-source'); return false">
                    [show source]
                  </a>
                  <pre id='method-c-new-source'><span class="ruby-comment"># File lib/ruby_xbee.rb, line 81</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier">initialize</span>(<span class="ruby-identifier">xbee_usbdev_str</span> = <span class="ruby-string">&quot;/dev/tty.usbserial-A7004nmf&quot;</span>, <span class="ruby-identifier">uart_config</span> = <span class="ruby-constant">XBeeUARTConfig</span>.<span class="ruby-identifier">new</span>)&#x000A;  <span class="ruby-keyword">unless</span> <span class="ruby-identifier">uart_config</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">XBeeUARTConfig</span>)&#x000A;    <span class="ruby-identifier">raise</span> <span class="ruby-string">&quot;uart_config must be an instance of XBeeUARTConfig for this to work&quot;</span>&#x000A;  <span class="ruby-keyword">end</span>&#x000A;  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">xbee_uart_config</span> = <span class="ruby-identifier">uart_config</span>&#x000A;  <span class="ruby-ivar">@xbee_serialport</span> = <span class="ruby-constant">SerialPort</span>.<span class="ruby-identifier">new</span>( <span class="ruby-identifier">xbee_usbdev_str</span>, <span class="ruby-identifier">uart_config</span>.<span class="ruby-identifier">baud</span>, <span class="ruby-identifier">uart_config</span>.<span class="ruby-identifier">data_bits</span>, <span class="ruby-identifier">uart_config</span>.<span class="ruby-identifier">stop_bits</span>, <span class="ruby-identifier">uart_config</span>.<span class="ruby-identifier">parity</span> )&#x000A;  <span class="ruby-ivar">@xbee_serialport</span>.<span class="ruby-identifier">read_timeout</span> = <span class="ruby-keyword">self</span>.<span class="ruby-identifier">read_timeout</span>(<span class="ruby-value">:short</span>)&#x000A;  <span class="ruby-ivar">@guard_time</span> = <span class="ruby-constant">GuardTime</span>.<span class="ruby-identifier">new</span>&#x000A;  <span class="ruby-ivar">@command_mode_timeout</span>= <span class="ruby-constant">CommandModeTimeout</span>.<span class="ruby-identifier">new</span>&#x000A;  <span class="ruby-ivar">@command_character</span> = <span class="ruby-constant">CommandCharacter</span>.<span class="ruby-identifier">new</span>&#x000A;  <span class="ruby-ivar">@node_discover_timeout</span> = <span class="ruby-constant">NodeDiscoverTimeout</span>.<span class="ruby-identifier">new</span>&#x000A;  <span class="ruby-ivar">@node_identifier</span> = <span class="ruby-constant">NodeIdentifier</span>.<span class="ruby-identifier">new</span>&#x000A;<span class="ruby-keyword">end</span></pre>
                </div>
              </div>
              <h2>Public Instance methods</h2>
              <div class='method public-instance' id='method-method-i-in_command_mode'>
                <a name='method-i-in_command_mode'></a>
                <div class='synopsis'>
                  <span class='name'>in_command_mode</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='description'>
                  
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('method-i-in_command_mode-source'); return false">
                    [show source]
                  </a>
                  <pre id='method-i-in_command_mode-source'><span class="ruby-comment"># File lib/ruby_xbee.rb, line 95</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier">in_command_mode</span>&#x000A;  <span class="ruby-identifier">sleep</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">guard_time</span>.<span class="ruby-identifier">in_seconds</span>&#x000A;  <span class="ruby-ivar">@xbee_serialport</span>.<span class="ruby-identifier">write</span>(<span class="ruby-keyword">self</span>.<span class="ruby-identifier">command_character</span>.<span class="ruby-identifier">value</span> * <span class="ruby-value">3</span>)&#x000A;  <span class="ruby-identifier">sleep</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">guard_time</span>.<span class="ruby-identifier">in_seconds</span>&#x000A;  <span class="ruby-ivar">@xbee_serialport</span>.<span class="ruby-identifier">read</span>(<span class="ruby-value">3</span>)&#x000A;  <span class="ruby-comment"># actually do some work now ...</span>&#x000A;  <span class="ruby-keyword">yield</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">block_given?</span>&#x000A;  <span class="ruby-comment"># Exit command mode</span>&#x000A;  <span class="ruby-ivar">@xbee_serialport</span>.<span class="ruby-identifier">write</span>(<span class="ruby-string">&quot;ATCN\r&quot;</span>)&#x000A;  <span class="ruby-ivar">@xbee_serialport</span>.<span class="ruby-identifier">read</span>(<span class="ruby-value">3</span>)&#x000A;<span class="ruby-keyword">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-method-i-read_timeout'>
                <a name='method-i-read_timeout'></a>
                <div class='synopsis'>
                  <span class='name'>read_timeout</span>
                  <span class='arguments'>(type = :short)</span>
                </div>
                <div class='description'>
                  
                  <p><a href="../XBee.html">XBee</a> response times vary based on both hardware
                  and firmware versions. These constants may need to be adjusted for your
                  devices, but these will work fine for most cases.  The unit of time for a
                  timeout constant is ms</p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('method-i-read_timeout-source'); return false">
                    [show source]
                  </a>
                  <pre id='method-i-read_timeout-source'><span class="ruby-comment"># File lib/ruby_xbee.rb, line 111</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier">read_timeout</span>(<span class="ruby-identifier">type</span> = <span class="ruby-value">:short</span>)&#x000A;  <span class="ruby-keyword">case</span> <span class="ruby-identifier">type</span>&#x000A;    <span class="ruby-keyword">when</span> <span class="ruby-value">:short</span>&#x000A;      <span class="ruby-value">1200</span>&#x000A;    <span class="ruby-keyword">when</span> <span class="ruby-value">:long</span> &#x000A;      <span class="ruby-value">3000</span>&#x000A;    <span class="ruby-keyword">else</span> <span class="ruby-value">3000</span>&#x000A;  <span class="ruby-keyword">end</span>&#x000A;<span class="ruby-keyword">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-method-i-version'>
                <a name='method-i-version'></a>
                <div class='synopsis'>
                  <span class='name'>version</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='description'>
                  
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('method-i-version-source'); return false">
                    [show source]
                  </a>
                  <pre id='method-i-version-source'><span class="ruby-comment"># File lib/ruby_xbee.rb, line 74</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier">version</span>&#x000A;  <span class="ruby-string">&quot;2.0&quot;</span>&#x000A;<span class="ruby-keyword">end</span></pre>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div id='footer-push'></div>
    </div>
    <div id='footer'>
      <a target="docwin" href="http://github.com/mislav/hanna/tree/master"><strong>Hanna</strong> RDoc template</a>
    </div>
  </body>
</html>
